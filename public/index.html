<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>How to Avoid Addiction</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">ğŸŒŸ</div>
      <div>
        <h1>How to Avoid Addiction</h1>
        <p class="subtitle">Daily lessons + miniâ€‘games to build healthy habits (no ads).</p>
      </div>
    </div>

    <nav class="tabs" aria-label="Main navigation">
      <button class="tab active" data-view="home">Home</button>
      <button class="tab" data-view="lesson">Todayâ€™s Lesson</button>
      <button class="tab" data-view="tracks">Tracks</button>
      <button class="tab" data-view="games">Miniâ€‘Games</button>
      <button class="tab" data-view="progress">Progress</button>
      <button class="tab" data-view="profile">Profile</button>
      <button class="tab" data-view="shop">Badges</button>
      <button class="tab" data-view="rate">Rate</button>
      <button class="tab" data-view="about">About</button>
    </nav>
  </header>

  <main class="container">
    <!-- HOME -->
    <section class="view" id="view-home">
      <div class="card hero">
        <h2>Welcome ğŸ‘‹</h2>
        <p>
          This app teaches kids how to make strong choices, handle stress, and ask for help.
          Youâ€™ll do a quick lesson each day, then play a miniâ€‘game to practice.
        </p>

        <div class="row">
          <div class="pill">âœ… No ads</div>
          <div class="pill">ğŸ†“ Free</div>
          <div class="pill">ğŸ® Practice with games</div>
          <div class="pill">ğŸ”’ Saves progress on this device</div>
        </div>

        <div class="actions">
          <button class="btn primary" id="btn-start-lesson">Start Todayâ€™s Lesson</button>
          <button class="btn" id="btn-start-game">Play Miniâ€‘Game</button>
        </div>
      </div>

      <div class="grid">
        <div class="card">
          <h3>Quick Tip of the Day</h3>
          <p id="tip-text">Loading tipâ€¦</p>
          <button class="btn small" id="btn-new-tip">New tip</button>
        </div>

        <div class="card">
          <h3>Your Streak</h3>
          <p class="big" id="streak-text">0 days</p>
          <p class="muted">Do one lesson a day to build your streak.</p>
        </div>

        <div class="card">
          <h3>Safety</h3>
          <p class="muted">
            If you ever feel unsafe, talk to a trusted adult (parent/guardian, teacher, coach).
          </p>
        </div>
      </div>
    </section>

    <!-- LESSON -->
    <section class="view hidden" id="view-lesson">
      <div class="card">
        <div class="lessonHeader">
          <h2 id="lesson-title">Todayâ€™s Lesson</h2>
          <span class="badge" id="lesson-day">Day 1</span>
        </div>

        <p class="muted" id="lesson-goal">Goal: â€¦</p>
        <div class="lessonBody" id="lesson-content"></div>

        <div class="divider"></div>

        <h3>Mini Quiz</h3>
        <p class="muted">Answer all questions correctly to finish the lesson.</p>
        <div id="quiz"></div>

        <div class="actions">
          <button class="btn" id="btn-prev-lesson">Previous</button>
          <button class="btn" id="btn-next-lesson">Next</button>
          <button class="btn primary" id="btn-complete-lesson">Mark Lesson Complete âœ…</button>
        </div>

        <p class="muted" id="lesson-status"></p>
      </div>
    </section>

        <!-- TRACKS -->

    <section class="view hidden" id="view-tracks">
  <div class="card">
    <h2>Choose a Focus Track</h2>
    <p class="muted">Optional: pick a topic to focus your lessons. You can switch anytime.</p>

    <label class="muted" for="track-select">Focus track</label>
    <select id="track-select" class="select">
      <option value="general">General (recommended)</option>
      <option value="nicotine">Nicotine / Vaping</option>
      <option value="alcohol">Alcohol</option>
      <option value="gaming">Gaming / Screen habits</option>
      <option value="socialmedia">Social media / Scrolling</option>
      <option value="caffeine">Caffeine / Energy drinks</option>
    </select>

    <div class="divider"></div>

    <h3>What youâ€™ll see</h3>
    <p class="muted" id="track-preview"></p>

    <div class="actions">
      <button class="btn primary" id="btn-apply-track">Use this track</button>
      <button class="btn" id="btn-clear-track">Back to General</button>
    </div>
  </div>
</section>


    <!-- GAMES -->
    <section class="view hidden" id="view-games">
      <div class="card">
        <h2>Miniâ€‘Games ğŸ®</h2>
        <p class="muted">
          These games practice real-life skills: saying no, handling stress, and choosing healthy options.
        </p>

        <!-- V2: dynamic tiles rendered by app.js -->
        <div id="games-grid" class="grid"></div>

        <div class="divider"></div>

        <div class="card hidden" id="game-area">
          <div class="gameTop">
            <h3 id="game-title">Game</h3>
            <span class="badge" id="game-score">Score: 0</span>
          </div>

          <div id="game-content"></div>

          <div class="actions">
            <button class="btn" id="btn-exit-game">Exit</button>
            <button class="btn primary hidden" id="btn-restart-game">Restart</button>
          </div>
        </div>
      </div>
    </section>

    <!-- PROGRESS -->
    <section class="view hidden" id="view-progress">
      <div class="card">
        <h2>Progress ğŸ“ˆ</h2>

        <div class="grid">
          <div class="card">
            <h3>Lessons Completed</h3>
            <p class="big" id="completed-count">0</p>
          </div>

          <div class="card">
            <h3>Game High Score</h3>
            <p class="big" id="highscore">0</p>
          </div>

          <div class="card">
            <h3>Streak</h3>
            <p class="big" id="streak-text-2">0 days</p>
          </div>
        </div>

        <div class="divider"></div>

        <h3>Completed Days</h3>
        <div id="completed-list" class="chips"></div>

        <div class="divider"></div>

        <button class="btn danger" id="btn-reset">Reset Progress (this device)</button>
      </div>
    </section>

<!-- PROFILE -->
<section class="view hidden" id="view-profile">
  <div class="card">
    <div class="profileHeader">
      <div class="profileIdentity">
        <!-- avatar preview (emoji or uploaded image) -->
        <div class="profileAvatar" aria-hidden="true">
          <span id="profile-avatar-emoji">ğŸ™‚</span>
          <img id="profile-avatar-img" class="hidden" alt="Your avatar" />
        </div>

        <div class="profileNameBlock">
          <h2 style="margin:0;">Profile ğŸ‘¤</h2>

          <label class="muted" for="profile-name-input" style="display:block; margin-top:8px;">
            Name
          </label>

          <div class="profileNameRow">
            <input id="profile-name-input" class="textInput" type="text" maxlength="24" placeholder="Your name" />
            <button class="btn small" id="btn-save-name" type="button">Save</button>
          </div>

          <p class="muted" style="margin:8px 0 0;">This is shown on your profile.</p>
        </div>
      </div>

      <div class="profileStats">
        <div class="statPill">
          <div class="muted">Total XP</div>
          <div class="statValue" id="profile-xp">0</div>
        </div>
        <div class="statPill">
          <div class="muted">Level</div>
          <div class="statValue" id="profile-level">1</div>
        </div>
        <div class="statPill">
          <div class="muted">Lessons</div>
          <div class="statValue" id="profile-lessons">0</div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="profileTwoCol">
      <div class="card" style="margin:0;">
        <h3 style="margin-top:0;">Choose an Avatar</h3>
        <p class="muted">Pick an emoji or upload your own photo.</p>
        <div id="avatar-grid" class="chips"></div>
      </div>

      <div class="card" style="margin:0;">
        <h3 style="margin-top:0;">Your Badges</h3>
        <div id="owned-badges" class="chips"></div>
        <p class="muted" id="owned-badges-empty"></p>
      </div>
    </div>
  </div>
</section>


    <!-- SHOP -->
    <section class="view hidden" id="view-shop">
      <div class="card">
        <h2>Badges ğŸ…</h2>
        <p class="muted">Badges unlock when you reach the XP requirement.</p>
        <div id="shop-grid" class="grid"></div>
      </div>
    </section>

    <!-- RATE -->
    <section class="view hidden" id="view-rate">
      <div class="card">
        <h2>Rate this app â­</h2>
        <p class="muted">Tap a star to leave a rating (no popups).</p>

        <div class="stars" id="stars">
          <button class="star" data-star="1" aria-label="Rate 1 star">â˜…</button>
          <button class="star" data-star="2" aria-label="Rate 2 stars">â˜…</button>
          <button class="star" data-star="3" aria-label="Rate 3 stars">â˜…</button>
          <button class="star" data-star="4" aria-label="Rate 4 stars">â˜…</button>
          <button class="star" data-star="5" aria-label="Rate 5 stars">â˜…</button>
        </div>

        <p class="big" id="rating-average">â€”</p>
        <p class="muted" id="rating-count">No ratings yet</p>
        <p class="muted" id="rating-thanks"></p>
      </div>
    </section>

    <!-- ABOUT -->
    <section class="view hidden" id="view-about">
      <div class="card">
        <h2>About</h2>
        <p>
          <strong>How to Avoid Addiction</strong> is a free, kidâ€‘friendly education app with daily lessons and miniâ€‘games.
          No ads. No paywalls.
        </p>

        <h3>Donations (Optional)</h3>
        <p class="muted">
          In a future version, you can add a donation button that supports addiction prevention efforts.
          (Weâ€™ll keep it safe + parentâ€‘friendly.)
        </p>

        <h3>Credits</h3>
        <ul class="muted">
          <li>Built with HTML/CSS/JavaScript</li>
          <li>Hosted on Cloudflare (planned)</li>
          <li>Version control on GitHub</li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="footer">
    <span>Created by Odin Garrett â€¢ Â© <span id="year"></span> How to Avoid Addiction</span>
    <span class="dot">â€¢</span>
    <button class="link" id="btn-open-lesson">Open Todayâ€™s Lesson</button>
    <span class="dot">â€¢</span>
    <button class="link" id="btn-open-rate">Rate this app</button>
  </footer>
<!-- FULLSCREEN GAME OVERLAY (no scrolling needed) -->
<div class="gameOverlay hidden" id="game-overlay" role="dialog" aria-modal="true">
  <div class="gameOverlayInner">
    <div class="gameOverlayTop">
      <div>
        <h2 class="gameOverlayTitle" id="go-title">Game</h2>
        <p class="gameOverlaySubtitle" id="go-subtitle">â€¦</p>
      </div>

      <div class="gameOverlayActions">
        <span class="badge" id="go-score">Score: 0</span>
        <button class="btn" id="go-exit">Exit</button>
      </div>
    </div>

    <div class="divider"></div>

    <div id="go-content"></div>

    <div class="actions">
      <button class="btn primary hidden" id="go-restart">Restart</button>
    </div>
  </div>
</div>

<!-- Hidden file input for custom avatar upload -->
<input id="avatar-upload" type="file" accept="image/*" class="hidden" />

  <script src="app.js"></script>
</body>
</html>
